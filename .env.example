# FabricStudio API Environment Variables
# Copy this file to .env and set your values
# DO NOT commit .env to version control!

# ============================================================================
# CRITICAL: Server Secret for Encryption
# ============================================================================
# This is used to encrypt sensitive data in the database (NHI passwords, tokens)
# Generate a strong secret with: openssl rand -base64 32
# NEVER use the default value in production!
FS_SERVER_SECRET=CHANGE_ME_IN_PRODUCTION

# ============================================================================
# Optional: Logging Configuration
# ============================================================================
# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# Database Configuration
# ============================================================================
# Database path (default: fabricstudio_ui.db)
# In Docker, this is set to /app/data/fabricstudio_ui.db
DB_PATH=/app/data/fabricstudio_ui.db

# ============================================================================
# FabricStudio API Configuration
# ============================================================================
# Lead Fabric Host (primary host for operations)
LEAD_FABRIC_HOST=your-fabric-host.example.com

# OAuth Client ID (from FabricStudio OAuth application registration)
CLIENT_ID=your-client-id-here

# OAuth Client Secret (from FabricStudio OAuth application registration)
# This will be encrypted before storage in the database
CLIENT_SECRET=your-client-secret-here

# ============================================================================
# Cache Configuration
# ============================================================================
# Repository refresh interval in hours (default: 2)
REPO_REFRESH_INTERVAL_HOURS=2

# Template cache refresh interval in hours (default: 1)
TEMPLATE_CACHE_REFRESH_INTERVAL_HOURS=1

# Template cache TTL in hours (how long templates stay cached, default: 1)
TEMPLATE_CACHE_TTL_HOURS=1

# ============================================================================
# Server Configuration
# ============================================================================
# Hostname to bind to (default: 0.0.0.0 to accept connections from all interfaces)
# Use 127.0.0.1 to only accept local connections
HOSTNAME=0.0.0.0

# Port to listen on (default: 8000)
PORT=8000

# ============================================================================
# HTTPS Configuration
# ============================================================================
# Set to 'true' to enable HTTPS (requires SSL certificates)
# When enabled, you must provide SSL certificates via volume mount in docker-compose.yml
HTTPS_ENABLED=false

# SSL Certificate paths (only used if HTTPS_ENABLED=true)
# These paths are inside the container. Mount your certificates as volumes in docker-compose.yml
# Default paths assume certificates are mounted at /app/certs/
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins for CORS
# If not set, origins will be auto-generated based on HOSTNAME, PORT, and HTTPS_ENABLED
# Example: CORS_ALLOW_ORIGINS=http://example.com:8000,https://example.com,http://localhost:3000
# Leave empty to use auto-generated origins
CORS_ALLOW_ORIGINS=
